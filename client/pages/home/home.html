<template name="home">
  <div class="page-header">
    <h1>DAB <small>text</small></h1>
  </div>

  <form id="new-text">
    <div class="form-group">
      <label for="text">New DAB text</label>
      <div class="input-group">
        <input type="text" class="form-control" id="text" placeholder="Text" aria-describedby="count-addon" maxlength="{{textLimit}}">
        <span class="input-group-addon" id="count-addon"><span id="characters-used">0</span>/{{textLimit}}</span>
      </div>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>

  <blockquote id="current-text">
    <h4>{{currentText.text}}</h4>
    <footer>{{currentText.createdBy}} <cite>{{formatDate currentText.createdAt}}</cite></footer>
  </blockquote>

  <button class="btn btn-danger" id="reset-text">Reset DAB text to default</button>

  <div class="panel panel-default" id="text-log">
    <div class="panel-heading">
      <h3 class="panel-title">Log</h3>
    </div>
    <div class="panel-body">
      <table class="table table-hover table-responsive">
        <thead>
          <tr>
            <th>Text</th>
            <th>Created</th>
          </tr>
        </thead>
        <tbody>
          {{#each texts}}
            <tr>
              <td>{{text}}</td>
              <td>{{formatDate createdAt}} by {{createdBy}}</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
      <nav>
        <ul class="pager">
          <li class="previous"><a href="#" id="pagination-newer"><span aria-hidden="true">&larr;</span> Newer</a></li>
          <li class="next"><a href="#" id="pagination-older">Older <span aria-hidden="true">&rarr;</span></a></li>
        </ul>
      </nav>
    </div>
  </div>

  <script type="text/javascript">
    $('#text').keyup(function () {
        $('#characters-used').text($(this).val().length);
    });
  </script>
</template>
